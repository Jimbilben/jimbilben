% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/poststrat_multi_psup.R
\name{poststrat_multi_psup}
\alias{poststrat_multi_psup}
\title{Poststratify PSup MRP Predictions}
\usage{
poststrat_multi_psup(
  input,
  variable_name,
  outcome_name,
  save_output = save_my_poststrat,
  return_state = set_state,
  .poststrat_tibble = set_my_poststrat,
  .poststrat_epred = set_my_epred,
  name_addition = ""
)
}
\arguments{
\item{input}{The object generated from \code{psup_mrp}, containing the model and posterior predictions. #' @param variable_name String. The name of the categorical variable being poststratified.}

\item{outcome_name}{String. The name of the PSup variable being poststratified.}

\item{save_output}{Logical. If \code{TRUE}, saves the poststratification summaries to a file. Defaults to \code{save_my_poststrat}.}

\item{return_state}{Logical. Whether to include the "state" subgroup in the returned output. Defaults to \code{set_state}.}

\item{.poststrat_tibble}{A data frame containing the poststratification tibble. Defaults to \code{set_my_poststrat}.}

\item{.poststrat_epred}{A data frame containing the poststratification posterior predictions. Defaults to \code{set_my_epred}.}

\item{name_addition}{String, defaults to "" (i.e., nothing). Can provide a string to more uniquely identify what the file will be named as.}
}
\value{
A list of poststratification summaries, including:
  \itemize{
    \item \code{"population"}: The population-level summary.
    \item Subgroup summaries for each variable in \code{subgroups}.
  }
  If \code{return_state = FALSE}, the "state" subgroup summary is excluded.
}
\description{
Perform poststratification on the posterior predictive draws from a partially supervised (PSup) MRP model across specified subgroups.
}
\details{
This function takes the posterior epred draws from \code{psup_mrp} and performs poststratification
at both the population level and across specified subgroups. It applies the function
\code{mrp_party_psup_poststrat} for stratification and formats the output with readable labels.

The function maps numeric PSup values (0, 0.5, 1) to categories, using 0.5 as the reference level.
Subgroups can be arranged in a logical order (e.g., for \code{"education_collapse"} or \code{"income_ces"}).
The output can optionally be saved as an RDS file for future use.
}
\note{
Requires the \code{brms} and \code{cmdstanr} packages.
Ensure that the \code{.poststrat_tibble} and \code{.poststrat_epred} arguments are properly formatted.
}
